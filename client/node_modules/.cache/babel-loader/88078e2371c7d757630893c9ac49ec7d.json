{"ast":null,"code":"import _defineProperty from\"/Users/mohamednasr/Desktop/web/projects/invoce_app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mohamednasr/Desktop/web/projects/invoce_app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mohamednasr/Desktop/web/projects/invoce_app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Input from'./Input/Input';import{signIn,signUp}from'../../actions/auth';import{useDispatch,useSelector}from'react-redux';import{useHistory}from'react-router-dom';import{ValidatorForm}from'react-material-ui-form-validator';import{Container,Typography,Paper,Avatar,Grid,Button}from'@material-ui/core';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import useStyles from'./styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initalState={firstName:'',lastName:'',email:'',password:'',confirmPassword:''};var Auth=function Auth(){var classes=useStyles();var dispatch=useDispatch();var history=useHistory();var error=useSelector(function(state){return state.authReducer.error;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSignUp=_useState2[0],setIsSignUp=_useState2[1];var _useState3=useState(initalState),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],setFormData=_useState4[1];var handleSignUp=function handleSignUp(){return setIsSignUp(!isSignUp);};var handleSubmit=function handleSubmit(e){e.preventDefault();if(isSignUp){dispatch(signUp(formData,history));}else{dispatch(signIn(formData,history));}};var handleChange=function handleChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsx(Container,{component:\"main\",className:classes.root,children:/*#__PURE__*/_jsxs(Paper,{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",className:classes.header,children:isSignUp?'Sign up':'Sign in'}),/*#__PURE__*/_jsxs(ValidatorForm,{className:classes.form,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[isSignUp&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Input,{name:\"firstName\",value:formData.firstName,type:\"text\",label:\"First Name\",half:true,handleChange:handleChange}),/*#__PURE__*/_jsx(Input,{name:\"lastName\",value:formData.lastName,type:\"text\",label:\"Last Name\",half:true,handleChange:handleChange})]}),/*#__PURE__*/_jsx(Input,{name:\"email\",value:formData.email,type:\"email\",label:\"Email\",handleChange:handleChange,error:(error===null||error===void 0?void 0:error.email)&&!isSignUp&&true||(error===null||error===void 0?void 0:error.userExist)&&isSignUp&&true,helperText:(error===null||error===void 0?void 0:error.email)&&!isSignUp&&error.email||(error===null||error===void 0?void 0:error.userExist)&&isSignUp&&error.userExist,validators:['required','isEmail'],errorMessages:[\"can't be empty\",'must be vaild email']}),/*#__PURE__*/_jsx(Input,{name:\"password\",value:formData.password,type:\"password\",label:\"Password\",handleChange:handleChange,error:(error===null||error===void 0?void 0:error.password)&&!isSignUp&&true,helperText:(error===null||error===void 0?void 0:error.password)&&error.password}),isSignUp&&/*#__PURE__*/_jsx(Input,{name:\"confirmPassword\",value:formData.confirmPassword,type:\"password\",label:\"Confirm Password\",handleChange:handleChange,error:(error===null||error===void 0?void 0:error.matchPassword)&&true,helperText:(error===null||error===void 0?void 0:error.matchPassword)&&error.matchPassword})]}),/*#__PURE__*/_jsx(Button,{className:classes.btn,variant:\"contained\",color:\"primary\",fullWidth:true,type:\"submit\",children:isSignUp?'Sign Up':'Sign In'})]}),/*#__PURE__*/_jsx(Button,{className:classes.signState,fullWidth:true,onClick:handleSignUp,children:isSignUp?'Have an acount ? sign in':\"Don't have an acount ? sign up\"})]})});};export default Auth;","map":{"version":3,"sources":["/Users/mohamednasr/Desktop/web/projects/invoce_app/client/src/components/Auth/Auth.js"],"names":["React","useState","Input","signIn","signUp","useDispatch","useSelector","useHistory","ValidatorForm","Container","Typography","Paper","Avatar","Grid","Button","LockOutlinedIcon","useStyles","initalState","firstName","lastName","email","password","confirmPassword","Auth","classes","dispatch","history","error","state","authReducer","isSignUp","setIsSignUp","formData","setFormData","handleSignUp","handleSubmit","e","preventDefault","handleChange","target","name","value","root","paper","avatar","header","form","userExist","matchPassword","btn","signState"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Input from './Input/Input';\nimport { signIn, signUp } from '../../actions/auth';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { ValidatorForm } from 'react-material-ui-form-validator';\nimport {\n  Container,\n  Typography,\n  Paper,\n  Avatar,\n  Grid,\n  Button,\n} from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport useStyles from './styles';\n\nconst initalState = {\n  firstName: '',\n  lastName: '',\n  email: '',\n  password: '',\n  confirmPassword: '',\n};\n\nconst Auth = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const error = useSelector((state) => state.authReducer.error);\n  const [isSignUp, setIsSignUp] = useState(false);\n  const [formData, setFormData] = useState(initalState);\n\n  const handleSignUp = () => setIsSignUp(!isSignUp);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (isSignUp) {\n      dispatch(signUp(formData, history));\n    } else {\n      dispatch(signIn(formData, history));\n    }\n  };\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <Container component=\"main\" className={classes.root}>\n      <Paper className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography variant=\"h5\" className={classes.header}>\n          {isSignUp ? 'Sign up' : 'Sign in'}\n        </Typography>\n        <ValidatorForm className={classes.form} onSubmit={handleSubmit}>\n          <Grid container spacing={2}>\n            {isSignUp && (\n              <>\n                <Input\n                  name=\"firstName\"\n                  value={formData.firstName}\n                  type=\"text\"\n                  label=\"First Name\"\n                  half\n                  handleChange={handleChange}\n                />\n                <Input\n                  name=\"lastName\"\n                  value={formData.lastName}\n                  type=\"text\"\n                  label=\"Last Name\"\n                  half\n                  handleChange={handleChange}\n                />\n              </>\n            )}\n            <Input\n              name=\"email\"\n              value={formData.email}\n              type=\"email\"\n              label=\"Email\"\n              handleChange={handleChange}\n              error={\n                (error?.email && !isSignUp && true) ||\n                (error?.userExist && isSignUp && true)\n              }\n              helperText={\n                (error?.email && !isSignUp && error.email) ||\n                (error?.userExist && isSignUp && error.userExist)\n              }\n              validators={['required', 'isEmail']}\n              errorMessages={[\"can't be empty\", 'must be vaild email']}\n            />\n\n            <Input\n              name=\"password\"\n              value={formData.password}\n              type=\"password\"\n              label=\"Password\"\n              handleChange={handleChange}\n              error={error?.password && !isSignUp && true}\n              helperText={error?.password && error.password}\n            />\n\n            {isSignUp && (\n              <Input\n                name=\"confirmPassword\"\n                value={formData.confirmPassword}\n                type=\"password\"\n                label=\"Confirm Password\"\n                handleChange={handleChange}\n                error={error?.matchPassword && true}\n                helperText={error?.matchPassword && error.matchPassword}\n              />\n            )}\n          </Grid>\n          <Button\n            className={classes.btn}\n            variant=\"contained\"\n            color=\"primary\"\n            fullWidth\n            type=\"submit\"\n          >\n            {isSignUp ? 'Sign Up' : 'Sign In'}\n          </Button>\n        </ValidatorForm>\n        <Button className={classes.signState} fullWidth onClick={handleSignUp}>\n          {isSignUp\n            ? 'Have an acount ? sign in'\n            : \"Don't have an acount ? sign up\"}\n        </Button>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}